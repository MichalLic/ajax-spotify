var SpotifyApp={BUTTON_SEARCH:null,API_URL:"https://api.spotify.com/v1/",init:function(){SpotifyApp.BUTTON_SEARCH=$("#search"),SpotifyApp.onSend()},getSearchValue:function(t){$.ajax({url:SpotifyApp.API_URL+"search?q="+t+"&type=track,album,artist&market=US",method:"GET",dataType:"json",success:function(a){SpotifyApp.drawSearchData(a),console.log(t),console.log(a)},error:function(){console.log("Getting data error!")}})},onSend:function(){$("button#search").on("click",function(t){SpotifyApp.getSearchValue($(".form-control").val())})},drawSearchData:function(t){for(var a="",s=0;s<t.albums.items.length;s++){var e=t.albums.items[s].id;a+='<div class="album-detail col-xs-12">',a+='<div class="match-detail col-xs-8">',a+='<div class="album-artist col-xs-12"><span>Artist: </span>'+t.albums.items[s].artists[0].name+"</div>",a+='<div class="album-name col-xs-12"><span>Title album: </span>'+t.albums.items[s].name+"</div>",a+='<button id="more" class=" btn btn-inverse" data-id="'+e+'" onclick="SpotifyApp.moreDetails(event.target)">More details</button>',a+="</div>",a+='<div class="album-img col-xs-4"><img src='+t.albums.items[s].images[2].url+"></div>",a+="</div>"}$(".album-section").append(a)},moreDetails:function(t){var a=$(t).attr("data-id");$.ajax({url:SpotifyApp.API_URL+"albums/"+a+"/tracks",method:"GET",dataType:"json",success:function(a){console.log(a),console.log(t),$(t).attr("disabled","disabled"),SpotifyApp.showTracks(a,t)},error:function(){console.log("Getting data error!")}})},showTracks:function(t,a){var s="";s+='<table class="table table-striped">',s+="<tbody>";for(var e=0;e<t.items.length;e++)s+='<tr><td><div class="album-track"><span class="track-number">'+t.items[e].track_number+"</span>"+t.items[e].name+"</div></td></tr>";s+="</tbody></table>",$(a).parent(".match-detail").append(s)}};$(document).ready(function(){SpotifyApp.init()});
//# sourceMappingURL=app.js.map
