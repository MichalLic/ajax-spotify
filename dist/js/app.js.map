{"version":3,"sources":["script.js"],"names":["SpotifyApp","BUTTON_SEARCH","API_URL","init","$","onSend","getSearchValue","searchValue","ajax","url","method","dataType","success","response","drawSearchData","console","log","error","on","e","val","data","section","i","albums","items","length","ID","id","artists","name","images","append","moreDetails","albumId","attr","showTracks","track","track_number","parent","document","ready"],"mappings":"AAIA,GAAAA,aAEAC,cAAA,KACAC,QAAA,8BAIAC,KAAA,WAEAH,WAAAC,cAAAG,EAAA,WACAJ,WAAAK,UAOAC,eAAA,SAAAC,GACAH,EAAAI,MACAC,IAAAT,WAAAE,QAAA,YAAAK,EAAA,qCACAG,OAAA,MACAC,SAAA,OACAC,QAAA,SAAAC,GACAb,WAAAc,eAAAD,GACAE,QAAAC,IAAAT,GACAQ,QAAAC,IAAAH,IAEAI,MAAA,WACAF,QAAAC,IAAA,2BAIAX,OAAA,WAEAD,EAAA,iBAAAc,GAAA,QAAA,SAAAC,GACAnB,WAAAM,eAAAF,EAAA,iBAAAgB,UAIAN,eAAA,SAAAO,GAGA,IAAA,GAFAC,GAAA,GAEAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAC,MAAAC,OAAAH,IAAA,CACA,GAAAI,GAAAN,EAAAG,OAAAC,MAAAF,GAAAK,EACAN,IAAA,uCACAA,GAAA,sCACAA,GAAA,4DAAAD,EAAAG,OAAAC,MAAAF,GAAAM,QAAA,GAAAC,KAAA,SACAR,GAAA,+DAAAD,EAAAG,OAAAC,MAAAF,GAAAO,KAAA,SACAR,GAAA,uDAAAK,EAAA,yEACAL,GAAA,SACAA,GAAA,4CAAAD,EAAAG,OAAAC,MAAAF,GAAAQ,OAAA,GAAAtB,IAAA,UACAa,GAAA,SAEAlB,EAAA,kBAAA4B,OAAAV,IAGAW,YAAA,SAAAd,GACA,GAAAe,GAAA9B,EAAAe,GAAAgB,KAAA,UACA/B,GAAAI,MACAC,IAAAT,WAAAE,QAAA,UAAAgC,EAAA,UACAxB,OAAA,MACAC,SAAA,OACAC,QAAA,SAAAC,GACAE,QAAAC,IAAAH,GACAE,QAAAC,IAAAG,GACAnB,WAAAoC,WAAAvB,EAAAM,IAEAF,MAAA,WACAF,QAAAC,IAAA,2BAKAoB,WAAA,SAAAf,EAAAF,GAEA,IAAA,GADAkB,GAAA,GACAd,EAAA,EAAAA,EAAAF,EAAAI,MAAAC,OAAAH,IACAc,GAAA,uDAAAhB,EAAAI,MAAAF,GAAAe,aAAA,UAAAjB,EAAAI,MAAAF,GAAAO,KAAA,QAEA1B,GAAAe,GAAAoB,OAAA,iBAAAP,OAAAK,GACAjC,EAAA,SAAA+B,KAAA,WAAA,aAmDA/B,GAAAoC,UAAAC,MAAA,WACAzC,WAAAG","file":"app.js","sourcesContent":["/**\r\n * Created by Micha≈Ç_2 on 2017-02-28.\r\n */\r\n\r\nvar SpotifyApp = {\r\n//    variables\r\n    BUTTON_SEARCH: null,\r\n    API_URL: 'https://api.spotify.com/v1/',\r\n\r\n\r\n//    init\r\n    init: function () {\r\n        //SpotifyApp.getAlbums();\r\n        SpotifyApp.BUTTON_SEARCH = $('#search');\r\n        SpotifyApp.onSend();\r\n    },\r\n\r\n\r\n//    function\r\n\r\n\r\n    getSearchValue: function (searchValue) {\r\n        $.ajax({\r\n            url: SpotifyApp.API_URL + 'search?q=' + searchValue + '&type=track,album,artist&market=US',\r\n            method: 'GET',\r\n            dataType: 'json',\r\n            success: function (response) {\r\n                SpotifyApp.drawSearchData(response);\r\n                console.log(searchValue);\r\n                console.log(response);\r\n            },\r\n            error: function () {\r\n                console.log('Getting data error!')\r\n            }\r\n        });\r\n    },\r\n    onSend: function () {\r\n\r\n        $('button#search').on('click', function (e) {\r\n            SpotifyApp.getSearchValue($('.form-control').val());\r\n        });\r\n    },\r\n\r\n    drawSearchData: function (data) {\r\n        var section = '';\r\n\r\n        for (var i = 0; i < data.albums.items.length; i++) {\r\n            var ID = data.albums.items[i].id;\r\n            section += '<div class=\"album-detail col-xs-12\">';\r\n            section += '<div class=\"match-detail col-xs-8\">';\r\n            section += '<div class=\"album-artist col-xs-12\"><span>Artist: </span>'+ data.albums.items[i].artists[\"0\"].name +'</div>';\r\n            section += '<div class=\"album-name col-xs-12\"><span>Title album: </span>' + data.albums.items[i].name + '</div>';\r\n            section += '<button id=\"more\" class=\" btn btn-inverse\" data-id=\"'+ ID +'\" onclick=\"SpotifyApp.moreDetails(event.target)\">More details</button>';\r\n            section += '</div>';\r\n            section += '<div class=\"album-img col-xs-4\"><img src=' + data.albums.items[i].images[2].url +'>'+'</div>';\r\n            section += '</div>'\r\n        }\r\n        $('.album-section').append(section);\r\n    },\r\n\r\n    moreDetails: function (e) {\r\n        var albumId = $(e).attr(\"data-id\");\r\n        $.ajax({\r\n            url: SpotifyApp.API_URL + 'albums/' + albumId +'/tracks',\r\n            method: 'GET',\r\n            dataType: 'json',\r\n            success: function (response) {\r\n                console.log(response);\r\n                console.log(e);\r\n                SpotifyApp.showTracks(response ,e);\r\n            },\r\n            error: function () {\r\n                console.log(\"Getting data error!\");\r\n            }\r\n        });\r\n    },\r\n\r\n    showTracks: function(data, e) {\r\n        var track = \"\";\r\n        for (var i = 0; i < data.items.length; i++) {\r\n            track += '<div class=\"album-track\">' + '<span class=\"track-number\">' + data.items[i].track_number + '</span>' + data.items[i].name + '</div>'\r\n        }\r\n        $(e).parent(\".match-detail\").append(track);\r\n        $(\"#more\").attr(\"disabled\", \"disabled\");\r\n    }\r\n\r\n\r\n    //selectAlbum: function(data) {\r\n    //    var template = '';\r\n    //    $.each(data, function(index, item){\r\n    //        template += SpotifyApp.drawAlbums(item);\r\n    //    });\r\n    //    $('.album').prepend(template);\r\n    //},\r\n\r\n    //drawAlbum function\r\n\r\n    //drawAlbums: function (data) {\r\n    //    var block = '';\r\n    //    var blockTrack = '';\r\n    //    block += \"<div class='album-detail'>\";\r\n    //    block += \"<div class='artist'>\" + data.artists[\"0\"].name + \"</div>\";\r\n    //    //block += \"<div class='img'>\" + data.images[\"2\"].url + \"</div>\";\r\n    //    block += \"<div class='label'>\" + data.label + \"</div>\";\r\n    //    block += \"<div class='name'>\" + data.name + \"</div>\";\r\n    //    block += \"<div>\" + data.release_date + \"</div>\";\r\n    //    block += \"<div class='popularity'>\" + data.popularity + \"</div>\";\r\n    //    for(i = 0; i < data.tracks.items.length; i++){\r\n    //       blockTrack = \"<div class='track'>\" + data.tracks.items[i].track_number + \" \" + data.tracks.items[i].name + \"</div>\";$(\".album\").append(blockTrack);\r\n    //    }\r\n    //    block += \"</div>\";\r\n    //    $(\".album\").prepend(block);\r\n    //}\r\n\r\n    //getAlbumfunction\r\n\r\n    //getAlbums: function () {\r\n    //    $.ajax({\r\n    //        url: 'https://api.spotify.com/v1/albums/382ObEPsp2rxGrnsizN5TX',\r\n    //        method: 'GET',\r\n    //        dataType: 'json',\r\n    //        success: function (response) {\r\n    //            SpotifyApp.drawAlbums(response);\r\n    //            console.log(response);\r\n    //        },\r\n    //        error: function () {\r\n    //            console.log(\"Getting data error!\")\r\n    //        }\r\n    //    });\r\n    //    // @todo dupa\r\n    //},\r\n    // get first album\r\n};\r\n\r\n$(document).ready(function () {\r\n    SpotifyApp.init();\r\n});"]}