{"version":3,"sources":["script.js"],"names":["SpotifyApp","BUTTON_SEARCH","API_URL","SHOW_TRACKS_LABEL","HIDE_TRACKS_LABEL","init","$","onSend","getSearchResults","searchValue","ajax","url","method","dataType","success","response","drawSearchData","console","log","error","on","e","val","data","section","i","albums","items","length","ID","id","artists","name","images","append","moreDetails","btn","hasClass","slideContent","getTracks","albumId","attr","showTracks","next","slideDown","addClass","text","slideToggle","track","track_number","parent","document","ready"],"mappings":"AAIA,GAAAA,aAEAC,cAAA,KACAC,QAAA,8BACAC,kBAAA,cACAC,kBAAA,cAKAC,KAAA,WAEAL,WAAAC,cAAAK,EAAA,WAEAN,WAAAO,UAOAC,iBAAA,SAAAC,GACAH,EAAAI,MACAC,IAAAX,WAAAE,QAAA,YAAAO,EAAA,qCACAG,OAAA,MACAC,SAAA,OACAC,QAAA,SAAAC,GACAf,WAAAgB,eAAAD,GACAE,QAAAC,IAAAT,GACAQ,QAAAC,IAAAH,IAEAI,MAAA,WACAF,QAAAC,IAAA,2BAIAX,OAAA,WAEAD,EAAA,iBAAAc,GAAA,QAAA,SAAAC,GACArB,WAAAQ,iBAAAF,EAAA,iBAAAgB,UAIAN,eAAA,SAAAO,GAGA,IAAA,GAFAC,GAAA,GAEAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAC,MAAAC,OAAAH,IAAA,CACA,GAAAI,GAAAN,EAAAG,OAAAC,MAAAF,GAAAK,EACAN,IAAA,uCACAA,GAAA,sCACAA,GAAA,4DAAAD,EAAAG,OAAAC,MAAAF,GAAAM,QAAA,GAAAC,KAAA,SACAR,GAAA,+DAAAD,EAAAG,OAAAC,MAAAF,GAAAO,KAAA,SACAR,GAAA,uDAAAK,EAAA,wEACAL,GAAA,SACAA,GAAA,4CAAAD,EAAAG,OAAAC,MAAAF,GAAAQ,OAAA,GAAAtB,IAAA,UACAa,GAAA,SAEAlB,EAAA,kBAAA4B,OAAAV,IAGAW,YAAA,SAAAC,GACA9B,EAAA8B,GAAAC,SAAA,UAGArC,WAAAsC,aAAAF,GAFApC,WAAAuC,UAAAH,IAMAG,UAAA,SAAAH,GACA,GAAAI,GAAAlC,EAAA8B,GAAAK,KAAA,UACAnC,GAAAI,MACAC,IAAAX,WAAAE,QAAA,UAAAsC,EAAA,UACA5B,OAAA,MACAC,SAAA,OACAC,QAAA,SAAAC,GACAf,WAAA0C,WAAA3B,EAAAqB,GACA9B,EAAA8B,GAAAO,KAAA,kBAAAC,UAAA,QACAtC,EAAA8B,GAAAS,SAAA,UACAvC,EAAA8B,GAAAU,KAAA9C,WAAAI,oBAEAe,MAAA,WACAF,QAAAC,IAAA,2BAKAoB,aAAA,SAAAF,GACA9B,EAAA8B,GAAAO,KAAA,kBAAAI,YAAA,OAAA,WACAzC,EAAA8B,GAAAU,QAAA9C,WAAAG,kBACAG,EAAA8B,GAAAU,KAAA9C,WAAAI,mBAEAE,EAAA8B,GAAAU,KAAA9C,WAAAG,sBAKAuC,WAAA,SAAAnB,EAAAa,GACA,GAAAY,GAAA,EACAA,IAAA,oDACAA,GAAA,sCACAA,GAAA,SACA,KAAA,GAAAvB,GAAA,EAAAA,EAAAF,EAAAI,MAAAC,OAAAH,IACAuB,GAAA,+DAEAzB,EAAAI,MAAAF,GAAAwB,aACA,UAAA1B,EAAAI,MAAAF,GAAAO,KAAA,kBAEAgB,IAAA,mBACAA,GAAA,SACA1C,EAAA8B,GAAAc,OAAA,iBAAAhB,OAAAc,IAmDA1C,GAAA6C,UAAAC,MAAA,WACApD,WAAAK","file":"app.js","sourcesContent":["/**\r\n * Created by Micha≈Ç_2 on 2017-02-28.\r\n */\r\n\r\nvar SpotifyApp = {\r\n//    variables\r\n    BUTTON_SEARCH: null,\r\n    API_URL: 'https://api.spotify.com/v1/',\r\n    SHOW_TRACKS_LABEL: 'Show tracks',\r\n    HIDE_TRACKS_LABEL: 'Hide tracks',\r\n    //ALBUM_ID: null,\r\n\r\n\r\n//    init\r\n    init: function () {\r\n        //SpotifyApp.getAlbums();\r\n        SpotifyApp.BUTTON_SEARCH = $('#search');\r\n        //SpotifyApp.ALBUM_ID = $(\"#more\").attr('data-id');\r\n        SpotifyApp.onSend();\r\n    },\r\n\r\n\r\n//    function\r\n\r\n\r\n    getSearchResults: function (searchValue) {\r\n        $.ajax({\r\n            url: SpotifyApp.API_URL + 'search?q=' + searchValue + '&type=track,album,artist&market=US',\r\n            method: 'GET',\r\n            dataType: 'json',\r\n            success: function (response) {\r\n                SpotifyApp.drawSearchData(response);\r\n                console.log(searchValue);\r\n                console.log(response);\r\n            },\r\n            error: function () {\r\n                console.log('Getting data error!')\r\n            }\r\n        });\r\n    },\r\n    onSend: function () {\r\n\r\n        $('button#search').on('click', function (e) {\r\n            SpotifyApp.getSearchResults($('.form-control').val());\r\n        });\r\n    },\r\n\r\n    drawSearchData: function (data) {\r\n        var section = '';\r\n\r\n        for (var i = 0; i < data.albums.items.length; i++) {\r\n            var ID = data.albums.items[i].id;\r\n            section += '<div class=\"album-detail col-xs-12\">';\r\n            section += '<div class=\"match-detail col-xs-8\">';\r\n            section += '<div class=\"album-artist col-xs-12\"><span>Artist: </span>' + data.albums.items[i].artists[\"0\"].name + '</div>';\r\n            section += '<div class=\"album-name col-xs-12\"><span>Title album: </span>' + data.albums.items[i].name + '</div>';\r\n            section += '<button id=\"more\" class=\" btn btn-inverse\" data-id=\"' + ID + '\" onclick=\"SpotifyApp.moreDetails(event.target)\">Show tracks</button>';\r\n            section += '</div>';\r\n            section += '<div class=\"album-img col-xs-4\"><img src=' + data.albums.items[i].images[2].url + '>' + '</div>';\r\n            section += '</div>'\r\n        }\r\n        $('.album-section').append(section);\r\n    },\r\n\r\n    moreDetails: function (btn) {\r\n        if (!$(btn).hasClass('loaded')){\r\n            SpotifyApp.getTracks(btn);\r\n        } else {\r\n            SpotifyApp.slideContent(btn);\r\n        }\r\n    },\r\n\r\n    getTracks: function (btn) {\r\n        var albumId = $(btn).attr('data-id');\r\n        $.ajax({\r\n            url: SpotifyApp.API_URL + 'albums/' + albumId + '/tracks',\r\n            method: 'GET',\r\n            dataType: 'json',\r\n            success: function (response) {\r\n                SpotifyApp.showTracks(response, btn);\r\n                $(btn).next(\".slide-content\").slideDown('slow');\r\n                $(btn).addClass('loaded');\r\n                $(btn).text(SpotifyApp.HIDE_TRACKS_LABEL);\r\n            },\r\n            error: function () {\r\n                console.log(\"Getting data error!\");\r\n            }\r\n        });\r\n    },\r\n\r\n    slideContent: function (btn) {\r\n        $(btn).next('.slide-content').slideToggle('slow', function () {\r\n            if($(btn).text() == SpotifyApp.SHOW_TRACKS_LABEL ){\r\n                $(btn).text(SpotifyApp.HIDE_TRACKS_LABEL);\r\n            } else {\r\n                $(btn).text(SpotifyApp.SHOW_TRACKS_LABEL);\r\n            }\r\n        });\r\n    },\r\n\r\n    showTracks: function (data, btn) {\r\n        var track = \"\";\r\n        track += '<div class=\"slide-content\" style=\"display: none\">';\r\n        track += '<table class=\"table table-striped\">';\r\n        track += '<tbody>';\r\n        for (var i = 0; i < data.items.length; i++) {\r\n            track += '<tr><td><div class=\"album-track\">'\r\n            + '<span class=\"track-number\">' +\r\n            data.items[i].track_number +\r\n            '</span>' + data.items[i].name + '</div></td></tr>'\r\n        }\r\n        track += '</tbody></table>';\r\n        track += '</div>';\r\n        $(btn).parent(\".match-detail\").append(track);\r\n    }\r\n\r\n\r\n    //selectAlbum: function(data) {\r\n    //    var template = '';\r\n    //    $.each(data, function(index, item){\r\n    //        template += SpotifyApp.drawAlbums(item);\r\n    //    });\r\n    //    $('.album').prepend(template);\r\n    //},\r\n\r\n    //drawAlbum function\r\n\r\n    //drawAlbums: function (data) {\r\n    //    var block = '';\r\n    //    var blockTrack = '';\r\n    //    block += \"<div class='album-detail'>\";\r\n    //    block += \"<div class='artist'>\" + data.artists[\"0\"].name + \"</div>\";\r\n    //    //block += \"<div class='img'>\" + data.images[\"2\"].url + \"</div>\";\r\n    //    block += \"<div class='label'>\" + data.label + \"</div>\";\r\n    //    block += \"<div class='name'>\" + data.name + \"</div>\";\r\n    //    block += \"<div>\" + data.release_date + \"</div>\";\r\n    //    block += \"<div class='popularity'>\" + data.popularity + \"</div>\";\r\n    //    for(i = 0; i < data.tracks.items.length; i++){\r\n    //       blockTrack = \"<div class='track'>\" + data.tracks.items[i].track_number + \" \" + data.tracks.items[i].name + \"</div>\";$(\".album\").append(blockTrack);\r\n    //    }\r\n    //    block += \"</div>\";\r\n    //    $(\".album\").prepend(block);\r\n    //}\r\n\r\n    //getAlbumfunction\r\n\r\n    //getAlbums: function () {\r\n    //    $.ajax({\r\n    //        url: 'https://api.spotify.com/v1/albums/382ObEPsp2rxGrnsizN5TX',\r\n    //        method: 'GET',\r\n    //        dataType: 'json',\r\n    //        success: function (response) {\r\n    //            SpotifyApp.drawAlbums(response);\r\n    //            console.log(response);\r\n    //        },\r\n    //        error: function () {\r\n    //            console.log(\"Getting data error!\")\r\n    //        }\r\n    //    });\r\n    //    // @todo dupa\r\n    //},\r\n    // get first album\r\n};\r\n\r\n$(document).ready(function () {\r\n    SpotifyApp.init();\r\n});"]}